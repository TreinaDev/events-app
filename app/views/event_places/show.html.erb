<div class="max-w-6xl mx-auto px-4 py-8">
  <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
    <h1 class="h1"><%= @event_place.name %></h1>

    <div class="flex gap-3">
      <%= link_to 'Editar', edit_event_place_path(@event_place),
          class: 'outline_button',
          test_id: "edit-#{@event_place.id}" %>

      <%= button_to event_place_path(@event_place), method: :delete,
          class: 'danger_button',
          data: { turbo_method: :delete, turbo_confirm: "Tem certeza que deseja excluir #{@event_place.name}?" },
          id: dom_id(@event_place, :delete) do %>
        <img src="<%= asset_path('bin.svg')%>" class="h-5 w-5 invert"/>
      <% end %>
    </div>
  </div>

  <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-8">
    <div class="card">
      <% if @event_place.photo.attached? %>
        <%= image_tag @event_place.photo, alt: "Foto de #{@event_place.name}",
                    class: "w-full h-96 object-cover rounded-t-lg" %>
      <% else %>
        <div class="w-full h-96 bg-gray-200 flex items-center justify-center rounded-t-lg">
          <span class="text-gray-500">Sem foto</span>
        </div>
      <% end %>
    </div>

    <div class="card p-6">
      <div class="space-y-4 text-gray-600">
        <div>
          <p class="font-medium text-gray-700">Endereço:</p>
          <p><%= @event_place.street %>, <%= @event_place.number %></p>
          <p><%= @event_place.neighborhood %></p>
        </div>

        <div>
          <p class="font-medium text-gray-700">Cidade/Estado:</p>
          <p><%= @event_place.city %> - <%= @event_place.state %></p>
        </div>

        <div>
          <p class="font-medium text-gray-700">CEP:</p>
          <p><%= @event_place.zip_code %></p>
        </div>
      </div>

      <div class="mt-8">
        <%= link_to event_places_path, class: 'form_button w-full md:w-auto' do %>
          Voltar para lista de locais
        <% end %>
      </div>
    </div>
  </div>

  <div>
    <h3>Recomendações de estabelecimentos próximos</h3>

    <%= link_to 'Recomendar local', new_event_place_recommendation_path(@event_place), class: 'form_button w-full md:w-auto' %>

    <% if @event_place.event_place_recommendations.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
        <% @event_place.event_place_recommendations.each do |recommendation| %>
          <div class="card">
            <div class="p-4">
              <h2 class="card_title"><%= recommendation.name %></h2>
              <p><%= recommendation.full_address %></p>
              <p><%= recommendation.phone %></p>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <p class="mt-4">Nenhuma recomendação encontrada.</p>
    <% end %>
  </div>
</div>